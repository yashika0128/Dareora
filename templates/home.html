{% extends "base.html" %}
{% block body %} 
<!-- Main Content -->
<main class="main-content">
    <!-- Hero Section -->
    <section class="hero-section">
        <!-- Background Effects -->
        <div class="bg-gradient-1"></div>
        <div class="bg-gradient-2"></div>

        <!-- Floating Elements -->
        <div class="floating-elements">
            <div class="floating-item">
                <div class="floating-content">
                    <span class="floating-emoji">üîê</span>
                    <div>
                        <div class="floating-title">Secure</div>
                        <div class="floating-subtitle">Login</div>
                    </div>
                </div>
            </div>
            <div class="floating-item">
                <div class="floating-content">
                    <span class="floating-emoji">‚ö°</span>
                    <div>
                        <div class="floating-title">Fast</div>
                        <div class="floating-subtitle">Access</div>
                    </div>
                </div>
            </div>
            <div class="floating-item">
                <div class="floating-content">
                    <span class="floating-emoji">üåê</span>
                    <div>
                        <div class="floating-title">Connected</div>
                        <div class="floating-subtitle">Community</div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Particles -->
        <div class="particles" id="particles-container"></div>

        <div class="hero-container">
            <div class="hero-content">
                <div class="badge">
                    <svg class="icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <path d="M9.663 17h4.673M12 3l1.224 2.216 2.216 1.224-2.216 1.224L12 9.5l-1.224-2.216L8.56 6.216l2.216-1.224L12 3Z"/>
                        <path d="M19.5 8.5l.743 1.543L22 10.786l-1.757.743L19.5 13.5l-.743-1.543L17 11.214l1.757-.743L19.5 8.5Z"/>
                        <path d="M6 16.5l.743 1.543L8.5 19.036l-1.757.743L6 21.5l-.743-1.543L3.5 19.214l1.757-.743L6 16.5Z"/>
                    </svg>
                    <span>Join the ultimate challenge community</span>
                </div>
                
                <h1 class="hero-title">
                    Dare to be
                    <span class="hero-highlight">Extraordinary</span>
                </h1>
                
                <p class="hero-description">
                    Push your limits, connect with adventurers worldwide, and transform challenges into unforgettable experiences. Every dare is a chance to discover your potential.
                </p>

                <!-- CTA Buttons -->
                <div class="cta-buttons">
                    <a href="{% url 'postdare'%}" class="btn-large primary">
                        <svg class="icon-xl" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <polygon points="13,2 3,14 12,14 11,22 21,10 12,10 13,2"/>
                        </svg>
                        Start Your Dare
                    </a>
                    <a href="{% url 'create_private_room' %}" class="btn-large secondary">
                        <svg class="icon-xl" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <polygon points="5,3 19,12 5,21 5,3"/>
                        </svg>
                        Create Your Room
                    </a>
                </div>

                <!-- Dynamic Stats from Database -->
                <div class="stats-grid">
                    <div class="stat-item">
                        <div class="stat-icon">
                            <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" style="color: var(--primary);">
                                <circle cx="12" cy="12" r="10"/>
                                <circle cx="12" cy="12" r="6"/>
                                <circle cx="12" cy="12" r="2"/>
                            </svg>
                        </div>
                        <div class="stat-value">{{ total_dares }}</div>
                        <div class="stat-label">Active Dares</div>
                    </div>
                    <div class="stat-item">
                        <div class="stat-icon">
                            <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" style="color: var(--primary);">
                                <path d="M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2"/>
                                <circle cx="9" cy="7" r="4"/>
                                <path d="M22 21v-2a4 4 0 0 0-3-3.87"/>
                                <path d="M16 3.13a4 4 0 0 1 0 7.75"/>
                            </svg>
                        </div>
                        <div class="stat-value">{{ community_members }}</div>
                        <div class="stat-label">Community Members</div>
                    </div>
                    <div class="stat-item">
                        <div class="stat-icon">
                            <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" style="color: var(--primary);">
                                <path d="M6 9H4.5a2.5 2.5 0 0 1 0-5H6"/>
                                <path d="M18 9h1.5a2.5 2.5 0 0 0 0-5H18"/>
                                <path d="M4 22h16"/>
                                <path d="M10 14.66V17c0 .55-.47.98-.97 1.21C7.85 18.75 7 20.24 7 22"/>
                                <path d="M14 14.66V17c0 .55.47.98.97 1.21C16.15 18.75 17 20.24 17 22"/>
                                <path d="M18 2H6v7a6 6 0 0 0 12 0V2Z"/>
                            </svg>
                        </div>
                        <div class="stat-value">{{ completed_challenges }}</div>
                        <div class="stat-label">Completed Challenges</div>
                    </div>
                    <div class="stat-item">
                        <div class="stat-icon">
                            <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" style="color: var(--primary);">
                                <polyline points="22,12 18,12 15,21 9,3 6,12 2,12"/>
                            </svg>
                        </div>
                        <div class="stat-value">{{ success_rate }}</div>
                        <div class="stat-label">Success Stories</div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Trending Dares Section -->
    <section class="trending-section">
        <div class="section-container">
            <!-- Section Header -->
            <div class="section-header">
                <h2 class="section-title">
                    Trending <span style="color: var(--primary);">Dares</span>
                </h2>
                <p class="section-description">
                    Join thousands of adventurers in these exciting challenges. Pick your next dare and start your journey!
                </p>
            </div>

            <!-- Dares Grid - Pure Django Template Loop -->
            <div class="dares-grid">
                {% if trending_dares %}
                    {% for dare in trending_dares %}
                    <div class="dare-card">
                        <div class="dare-header">
                            <div class="dare-meta">
                                <span class="dare-category">{{ dare.category_emoji }}</span>
                                <span class="difficulty-badge difficulty-{{ dare.difficulty }}">{{ dare.difficulty }}</span>
                            </div>
                            <div class="dare-time">{{ dare.timeLeft }}</div>
                        </div>

                        <h3 class="dare-title">{{ dare.title }}</h3>
                        <p class="dare-description">{{ dare.description|truncatechars:120 }}</p>

                        <div class="dare-creator-reward">
                            <div class="dare-creator">
                                by <span class="creator-name">@{{ dare.creator }}</span>
                            </div>
                            <div class="dare-reward">üèÜ {{ dare.reward }}</div>
                        </div>

                        <div class="dare-stats">
                            <div class="stats-group">
                                <div class="stat-group">
                                    <svg class="icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                        <path d="M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2"/>
                                        <circle cx="9" cy="7" r="4"/>
                                        <path d="M22 21v-2a4 4 0 0 0-3-3.87"/>
                                        <path d="M16 3.13a4 4 0 0 1 0 7.75"/>
                                    </svg>
                                    <span>{{ dare.participants }}</span>
                                </div>
                                <div class="stat-group">
                                    <svg class="icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                        <path d="M20.84 4.61a5.5 5.5 0 0 0-7.78 0L12 5.67l-1.06-1.06a5.5 5.5 0 0 0-7.78 7.78l1.06 1.06L12 21.23l7.78-7.78 1.06-1.06a5.5 5.5 0 0 0 0-7.78z"/>
                                    </svg>
                                    <span>{{ dare.likes }}</span>
                                </div>
                                <div class="stat-group">
                                    <svg class="icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                        <path d="M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"/>
                                        <circle cx="12" cy="12" r="3"/>
                                    </svg>
                                    <span>{{ dare.views }}</span>
                                </div>
                            </div>
                            
                            <a href="{% url 'accept_dare' dare.id %}" class="join-btn">
                                Join Dare
                                <svg class="icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                    <line x1="5" y1="12" x2="19" y2="12"/>
                                    <polyline points="12,5 19,12 12,19"/>
                                </svg>
                            </a>
                            </a>
                        </div>
                    </div>
                    {% endfor %}
                {% else %}
                    <div style="grid-column: 1/-1; text-align: center; padding: 2rem;">
                        <p style="color: var(--text-secondary); font-size: 1.1rem;">
                            No dares available yet. <a href="{% url 'postdare' %}" style="color: var(--primary);">Create the first one!</a>
                        </p>
                    </div>
                {% endif %}
            </div>

            <!-- View All Button -->
            <a href="{% url 'explore' %}" class="view-all-btn">
                View All Challenges
                <svg class="icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                    <line x1="5" y1="12" x2="19" y2="12"/>
                    <polyline points="12,5 19,12 12,19"/>
                </svg>
            </a>
        </div>
    </section>

    <!-- Features Section -->
    <section class="features-section">
        <div class="section-container">
            <div class="section-header">
                <h2 class="section-title">
                    Why Choose <span style="color: var(--primary);">Dareora</span>?
                </h2>
                <p class="section-description">
                    More than just challenges - it's a platform for growth, connection, and extraordinary experiences.
                </p>
            </div>

            <div class="features-grid">
                <div class="feature-item">
                    <div class="feature-icon primary">
                        <svg width="32" height="32" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" style="color: white;">
                            <path d="M8.5 14.5A2.5 2.5 0 0 0 11 12c0-1.38-.5-2-1-3-1.072-2.143-.224-4.054 2-6 .5 2.5 2 4.9 4 6.5 2 1.6 3 3.5 3 5.5a7 7 0 1 1-14 0c0-1.153.433-2.294 1-3a2.5 2.5 0 0 0 2.5 2.5z"/>
                        </svg>
                    </div>
                    <h3 class="feature-title">Build Confidence</h3>
                    <p class="feature-description">
                        Every completed dare builds your confidence and pushes you beyond your comfort zone.
                    </p>
                </div>

                <div class="feature-item">
                    <div class="feature-icon green">
                        <svg width="32" height="32" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" style="color: white;">
                            <path d="M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2"/>
                            <circle cx="9" cy="7" r="4"/>
                            <path d="M22 21v-2a4 4 0 0 0-3-3.87"/>
                            <path d="M16 3.13a4 4 0 0 1 0 7.75"/>
                        </svg>
                    </div>
                    <h3 class="feature-title">Global Community</h3>
                    <p class="feature-description">
                        Connect with like-minded adventurers from around the world and share your journey.
                    </p>
                </div>

                <div class="feature-item">
                    <div class="feature-icon purple">
                        <svg width="32" height="32" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" style="color: white;">
                            <polygon points="12,2 15.09,8.26 22,9.27 17,14.14 18.18,21.02 12,17.77 5.82,21.02 7,14.14 2,9.27 8.91,8.26 12,2"/>
                        </svg>
                    </div>
                    <h3 class="feature-title">Earn Recognition</h3>
                    <p class="feature-description">
                        Unlock achievements, earn badges, and get featured for your most impressive dares.
                    </p>
                </div>
            </div>
        </div>
    </section>

    <!-- CTA Section -->
    <section class="cta-section">
        <div class="cta-container">
            <div class="cta-card">
                <h2 class="cta-title">
                    Ready to Start Your Adventure?
                </h2>
                <p class="cta-description">
                    Join thousands of daredevils who are already pushing their limits and discovering their potential.
                </p>
                <div class="cta-buttons">
                    <a href="{% url 'postdare' %}" class="btn-large primary">
                        <svg class="icon-xl" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <polygon points="13,2 3,14 12,14 11,22 21,10 12,10 13,2"/>
                        </svg>
                        Create Your First Dare
                    </a>
                    <a href="{% url 'explore' %}" class="btn-large secondary">
                        Explore Dares
                        <svg class="icon-xl" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <line x1="5" y1="12" x2="19" y2="12"/>
                            <polyline points="12,5 19,12 12,19"/>
                        </svg>
                    </a>
                </div>
            </div>
        </div>
    </section>
</main>

<style>
    .dare-card {
        background: rgba(255, 255, 255, 0.05);
        border: 1px solid rgba(255, 255, 255, 0.1);
        border-radius: 16px;
        padding: 1.5rem;
        backdrop-filter: blur(10px);
        transition: all 0.3s ease;
    }
    
    .dare-card:hover {
        transform: translateY(-8px);
        box-shadow: 0 20px 40px rgba(0, 0, 0, 0.2);
        border-color: var(--primary);
    }
    
    .difficulty-easy { background: #10b981; color: white; padding: 4px 8px; border-radius: 12px; font-size: 0.75rem; }
    .difficulty-medium { background: #f59e0b; color: white; padding: 4px 8px; border-radius: 12px; font-size: 0.75rem; }
    .difficulty-hard { background: #ef4444; color: white; padding: 4px 8px; border-radius: 12px; font-size: 0.75rem; }
    .difficulty-extreme { background: #8b5cf6; color: white; padding: 4px 8px; border-radius: 12px; font-size: 0.75rem; }
    
    .dares-grid {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
        gap: 1.5rem;
        margin-top: 2rem;
    }
    
    .dare-header {
        display: flex;
        justify-content: space-between;
        align-items: center;
        margin-bottom: 1rem;
    }
    
    .dare-meta {
        display: flex;
        gap: 0.5rem;
        align-items: center;
    }
    
    .dare-category {
        font-size: 1.5rem;
    }
    
    .dare-time {
        color: var(--text-secondary);
        font-size: 0.85rem;
    }
    
    .dare-title {
        color: white;
        margin-bottom: 0.5rem;
        font-size: 1.1rem;
    }
    
    .dare-description {
        color: var(--text-secondary);
        margin-bottom: 1rem;
        line-height: 1.5;
    }
    
    .dare-creator-reward {
        display: flex;
        justify-content: space-between;
        align-items: center;
        margin-bottom: 1rem;
        font-size: 0.85rem;
    }
    
    .creator-name {
        color: var(--primary);
    }
    
    .dare-reward {
        color: #fbbf24;
    }
    
    .dare-stats {
        display: flex;
        justify-content: space-between;
        align-items: center;
    }
    
    .stats-group {
        display: flex;
        gap: 1rem;
    }
    
    .stat-group {
        display: flex;
        align-items: center;
        gap: 0.25rem;
        color: var(--text-secondary);
        font-size: 0.85rem;
    }
    
    .stat-group svg {
        width: 16px;
        height: 16px;
    }
    
    .join-btn {
        background: var(--primary);
        color: white;
        padding: 0.5rem 1rem;
        border-radius: 8px;
        text-decoration: none;
        display: flex;
        align-items: center;
        gap: 0.5rem;
        font-size: 0.85rem;
        transition: all 0.3s ease;
    }
    
    .join-btn:hover {
        background: var(--primary-dark);
        transform: translateY(-2px);
    }
    
    .join-btn svg {
        width: 16px;
        height: 16px;
    }
</style>

<script>
    // Simple particle animation - NO JSON used
    function createParticle() {
        const particlesContainer = document.getElementById('particles-container');
        const particle = document.createElement('div');
        particle.className = 'particle';
        particle.style.left = Math.random() * 100 + '%';
        particlesContainer.appendChild(particle);

        setTimeout(() => {
            if (particle.parentNode) {
                particle.parentNode.removeChild(particle);
            }
        }, 15000);
    }

    // Add floating animation on mouse move
    document.addEventListener('mousemove', function(e) {
        const mouseX = e.clientX / window.innerWidth;
        const mouseY = e.clientY / window.innerHeight;
        
        document.querySelectorAll('.floating-item').forEach((item, index) => {
            const speed = (index + 1) * 0.02;
            const xOffset = (mouseX - 0.5) * 20 * speed;
            const yOffset = (mouseY - 0.5) * 20 * speed;
            
            item.style.transform = `translate(${xOffset}px, ${yOffset}px)`;
        });
    });

    // Initialize page
    document.addEventListener('DOMContentLoaded', function() {
        // Create particles periodically
        setInterval(createParticle, 3000);
        
        console.log('üöÄ Dynamic Dareora home page loaded successfully!');
        console.log('Total dares: {{ total_dares }}');
    });
</script>
{% endblock %}